openapi: 3.1.0
info:
  title: Learning Catalog Management API
  description: API to manage learning communities within an organization.
  version: 1.0.0
servers:
  - url: https://app1.fusionobjects.com
    description: Main API server for communities management
paths:
  openapi: 3.1.0

paths:
  /Goals/view:
   post:
    operationId: viewGoalDetails
    summary: View detailed goal information including measurements and tasks.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              goal_name:
                type: string
                description: The name of the goal.
            required:
              - goal_name
    responses:
      "200":
        description: Goal details retrieved successfully.
        content:
          application/json:
            schema:
              type: object
              properties:
                "basic_info.goal_name":
                  type: string
                  description: The name of the goal.
                "basic_info.description":
                  type: string
                  description: Detailed description of the goal.
                "basic_info.start_date":
                  type: string
                  format: date
                  description: Start date of the goal.
                "basic_info.target_completion_date":
                  type: string
                  format: date
                  description: Target completion date of the goal.
                "basic_info.category":
                  type: string
                  description: Category of the goal.
                "basic_info.success_criteria":
                  type: string
                  description: Success criteria for the goal.
                "basic_info.status":
                  type: string
                  description: Status of the goal.
                "basic_info.level":
                  type: string
                  description: The level of the goal (e.g., Company).
                "basic_info.subtype":
                  type: string
                  description: The subtype of the goal (e.g., Annual Goal).
                "measurements":
                  type: array
                  description: List of measurements related to the goal.
                  items:
                    type: object
                    properties:
                      "measurements.measurement_name":
                        type: string
                        description: Name of the measurement.
                      "measurements.unit_of_measure":
                        type: string
                        description: Unit of measure for the measurement.
                      "measurements.start_date":
                        type: string
                        format: date
                        description: Start date of the measurement.
                      "measurements.end_date":
                        type: string
                        format: date
                        description: End date of the measurement.
                      "measurements.comments":
                        type: string
                        description: Comments related to the measurement.
                      "measurements.target_type":
                        type: string
                        description: Type of target (e.g., Binary).
                      "measurements.target_value":
                        type: string
                        description: Target value for the measurement.
                      "measurements.actual_value":
                        type: string
                        description: Actual value of the measurement.
                "tasks":
                  type: array
                  description: List of tasks related to the goal.
                  items:
                    type: object
                    properties:
                      "tasks.name":
                        type: string
                        description: Name of the task.
                      "tasks.type":
                        type: string
                        description: Type of the task.
                      "tasks.status":
                        type: string
                        description: Status of the task.
                      "tasks.priority":
                        type: string
                        description: Priority of the task.
                      "tasks.completion_percentage":
                        type: string
                        description: Completion percentage of the task.
                      "tasks.start_date":
                        type: string
                        format: date
                        description: Start date of the task.
                      "tasks.target_completion_date":
                        type: string
                        format: date
                        description: Target completion date of the task.
                      "tasks.comments":
                        type: array
                        description: Comments related to the task.
                        items:
                          type: string
                      "tasks.related_link":
                        type: array
                        description: Related links for the task.
                        items:
                          type: string

  /My_Goals/view:
   post:
    operationId: viewGoalDetailsByPerson
    summary: View goals assigned to specific person.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              query:
                type: object
                required:
                  - person_name
                properties:
                  person_name:
                    type: string
                    description: Filter goals based on the person responsible for the goal.
                  
    responses:
      "200":
        description: Goal details retrieved successfully.
        content:
          application/json:
            schema:
              type: object
              properties:
                person_name:
                  type: string
                  description: Name of the person assigned to the goal.
                goal_name:
                  type: string
                  description: Name of the goal.
      "404":
        description: Required details are not found.
        content:
          application/json:
            schema:
              type: object
              properties:
                message:
                  type: string
                  example: "Required details are not found."

  /My_Goal/person/view:
   post:
    operationId: viewGoalDetailsSpecificToPerson
    summary: View goals specific to a person.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              query:
                type: object
                required:
                  - person_name
                properties:
                  person_name:
                    type: string
                    description: Filter goals based on the person responsible for the goal.
                  goal_name:
                    type: string
                    description: Name of the goals assigned to the above person.
    responses:
      "200":
        description: Goal details retrieved successfully.
        content:
          application/json:
            schema:
              type: object
              properties:
                person_name:
                  type: string
                  description: Name of the person assigned to the goal.
                goal_plan_assigned:
                  type: string
                  description: The goal plan assigned to the person.
                review_period:
                  type: string
                  description: Review period for the assigned goal.
                goal_name:
                  type: string
                  description: Name of the goal.
                start_date:
                  type: string
                  format: date
                  description: Start date of the goal.
                target_completion_date:
                  type: string
                  format: date
                  description: Target completion date of the goal.
                goal_type:
                  type: string
                  description: Type of the goal.
                progress:
                  type: string
                  description: Progress status of the goal.
                measurements.measurement_name:
                  type: string
                  description: Name of the measurement.
                measurements.unit_of_measure:
                  type: string
                  description: Unit of measurement.
                measurements.start_date:
                  type: string
                  format: date
                  description: Measurement start date.
                measurements.end_date:
                  type: string
                  format: date
                  description: Measurement end date.
                measurements.comments:
                  type: string
                  description: Comments related to the measurement.
                measurements.target_type:
                  type: string
                  description: Type of target.
                measurements.target_value:
                  type: integer
                  description: Target value of the goal.
                measurements.actual_value:
                  type: integer
                  description: Actual value achieved for the measurement.
                tasks.name:
                  type: string
                  description: Name of the task.
                tasks.type:
                  type: string
                  description: Type of the task.
                tasks.status:
                  type: string
                  description: Status of the task.
                tasks.priority:
                  type: string
                  description: Priority of the task.
                tasks.comments:
                  type: string
                  description: Comments related to the task.
                tasks.completion_percentage:
                  type: string
                  description: Completion percentage of the task.
                tasks.start_date:
                  type: string
                  format: date
                  description: Task start date.
                tasks.target_completion_date:
                  type: string
                  format: date
                  description: Task target completion date.
                tasks.related_link.0:
                  type: string
                  description: Related link for the task.
                comments:
                  type: array
                  description: Any comments associated with the goal.
                  items:
                    type: string
                feedback:
                  type: array
                  description: Feedback received for the goal.
                  items:
                    type: string
      "404":
        description: Required details are not found.
        content:
          application/json:
            schema:
              type: object
              properties:
                message:
                  type: string
                  example: "Required details are not found."



  /Goal_Offering/view:
   post:
    operationId: viewGoalOfferingDetails
    summary: View detailed goal offering information.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              query:
                type: object
                required:
                  - person_name
                properties:
                  person_name:
                    type: string
                    description: The name of the person assigned to the goal.
                  goal_plan_assigned:
                    type: string
                    description: The name of the goal plan assigned to the person.
                  review_period:
                    type: string
                    description: The review period for the goal plan.
                  performance_document_type:
                    type: string
                    description: The type of performance document associated with the goal.
                  goal_name:
                    type: string
                    description: The name of the goal.
                  start_date:
                    type: string
                    format: date
                    description: The start date of the goal.
                  target_completion_date:
                    type: string
                    format: date
                    description: The target completion date of the goal.
                  status:
                    type: string
                    description: The current status of the goal (e.g., approved).
    responses:
      "200":
        description: Goal details retrieved successfully.
        content:
          application/json:
            schema:
              type: object
              properties:
                person_name:
                  type: string
                  description: The name of the person assigned to the goal.
                goal_plan_assigned:
                  type: string
                  description: The name of the goal plan assigned to the person.
                review_period:
                  type: string
                  description: The review period for the goal plan.
                performance_document_type:
                  type: string
                  description: The type of performance document associated with the goal.
                goal_name:
                  type: string
                  description: The name of the goal.
                start_date:
                  type: string
                  format: date
                  description: The start date of the goal.
                target_completion_date:
                  type: string
                  format: date
                  description: The target completion date of the goal.
                status:
                  type: string
                  description: The current status of the goal (e.g., approved).
                timestamp:
                  type: string
                  format: date-time
                  description: The timestamp for the last update of the goal.
                measurements:
                  type: array
                  description: List of measurements related to the goal.
                  items:
                    type: object
                    properties:
                      measurement_name:
                        type: string
                        description: Name of the measurement.
                      unit_of_measure:
                        type: string
                        description: Unit of measure for the measurement.
                      start_date:
                        type: string
                        format: date
                        description: Start date of the measurement.
                      end_date:
                        type: string
                        format: date
                        description: End date of the measurement.
                      comments:
                        type: string
                        description: Comments related to the measurement.
                      target_type:
                        type: string
                        description: Type of target (e.g., Range, Binary).
                      target_value:
                        type: string
                        description: Target value for the measurement.
                      actual_value:
                        type: string
                        description: Actual value of the measurement.
                tasks:
                  type: array
                  description: List of tasks related to the goal.
                  items:
                    type: object
                    properties:
                      name:
                        type: string
                        description: Name of the task.
                      type:
                        type: string
                        description: Type of the task.
                      status:
                        type: string
                        description: Status of the task.
                      priority:
                        type: string
                        description: Priority of the task.
                      completion_percentage:
                        type: string
                        description: Completion percentage of the task.
                      start_date:
                        type: string
                        format: date
                        description: Start date of the task.
                      target_completion_date:
                        type: string
                        format: date
                        description: Target completion date of the task.
                      comments:
                        type: array
                        description: List of comments related to the task.
                        items:
                          type: string
                      related_link:
                        type: array
                        description: Related links for the task.
                        items:
                          type: string
      "404":
        description: Required details are not found.
        content:
          application/json:
            schema:
              type: object
              properties:
                message:
                  type: string
                  example: "Required details are not found."

  /smart_goal/check_smart:
    post:
      operationId: checkSmart
      summary: Check if a goal is SMART.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                goal_name:
                  type: string
                  description: Name of the goal to check.
                  example: "Increase Sales by 20%"
              required:
                - goal_name
      responses:
        "200":
          description: Goal SMART status.
          content:
            application/json:
              schema:
                type: object
                properties:
                  goal_name:
                    type: string
                    description: Name of the goal.
                  status:
                    type: string
                    description: Status of the goal.
                  issues:
                    type: array
                    items:
                      type: string
                    description: List of issues if the goal is not SMART.
                  suggestions:
                    type: array
                    items:
                      type: string
                    description: List of suggestions to make the goal SMART.
                  error:
                    type: string
                    description: Error message if the goal is not found.
        "404":
          description: Goal not found.
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    description: Error message.
                    example: "Goal not found"
  
  /Review_Period/view:
   post:
    operationId: viewReviewPeriod
    summary: View detailed review period information based on `review_period_name` and `status`.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              query:
                type: object
                properties:
                  review_period_name:
                    type: string
                    description: The name of the review period (e.g., "2023 Annual").
                  status:
                    type: string
                    description: The current status of the review period (e.g., "Active").
    responses:
      "200":
        description: Review period details retrieved successfully.
        content:
          application/json:
            schema:
              type: object
              properties:
                review_period_name:
                  type: string
                  description: The name of the review period.
                description:
                  type: string
                  description: A detailed description of the review period.
                status:
                  type: string
                  description: The current status of the review period.
                period_start_date:
                  type: string
                  format: date
                  description: The start date of the review period.
                period_end_date:
                  type: string
                  format: date
                  description: The end date of the review period.
                updated_by:
                  type: string
                  description: The user who last updated the review period.
                updated_date:
                  type: string
                  format: date-time
                  description: The date and time when the review period was last updated.
      "404":
        description: Required details are not found.
        content:
          application/json:
            schema:
              type: object
              properties:
                message:
                  type: string
                  example: "Required details are not found."

  /Performance_Doc_Type/view:
   post:
    operationId: viewPerformanceDocumentType
    summary: View detailed performance document type information based on `name` and `status`.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              query:
                type: object
                properties:
                  name:
                    type: string
                    description: The name of the performance document type (e.g., "Website Redesign Project").
                  status:
                    type: string
                    description: The current status of the performance document type (e.g., "In Progress").
    responses:
      "200":
        description: Performance document type details retrieved successfully.
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  description: The name of the performance document type.
                description:
                  type: string
                  description: A detailed description of the performance document type.
                status:
                  type: string
                  description: The current status of the performance document type.
                start_date:
                  type: string
                  format: date-time
                  description: The start date of the performance document type.
                end_date:
                  type: string
                  format: date-time
                  description: The end date of the performance document type.
      "404":
        description: Required details are not found.
        content:
          application/json:
            schema:
              type: object
              properties:
                message:
                  type: string
                  example: "Required details are not found."

  /goal/assign:
   post:
    operationId: assignGoal
    summary: Assign a goal to an employee.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              goal_plan_name:
                type: string
                description: Name of the goal plan.
              person_name:
                type: string
                description: Name of the employee.
              review_period:
                type: string
                description: Name of the review period.
              goal_name:
                type: string
                description: Name of the goal.
                example: "Imp"
              goal_type:
                type: string
                description: Type of the goal.
                enum:
                  - dev
                  - performance_goal
              start_date:
                type: string
                description: Start date of the goal.
                format: date
              performance_document_type:
                type: string
                description: Type of the performance document.
              target_completion_date:
                type: string
                description: Target completion date of the goal.
                format: date

            # Conditional validation based on goal_type value
            oneOf:
              # Validation for 'dev' goal type
              - properties:
                  goal_type:
                    enum:
                      - dev
                required:
                  - person_name
                  - goal_name
                  - goal_type
                  - start_date
                  - target_completion_date
                additionalProperties: false # No other properties allowed for 'dev'
              
              # Validation for 'performance_goal' goal type
              - properties:
                  goal_type:
                    enum:
                      - performance_goal
                  goal_plan_name:
                    type: string
                    description: Name of the goal plan.
                  review_period:
                    type: string
                    description: Name of the review period.
                  performance_document_type:
                    type: string
                    description: Type of the performance document.
                required:
                  - person_name
                  - goal_name
                  - goal_type
                  - start_date
                  - target_completion_date
                  - goal_plan_name
                  - review_period
                  - performance_document_type
                additionalProperties: false # Ensure only required properties are provided

    responses:
      "200":
        description: Goal assigned successfully.
        content:
          application/json:
            schema:
              type: object
              properties:
                comments:
                  type: array
                  items:
                    type: string
                  description: List of comments.
                created_at:
                  type: string
                  format: date-time
                  description: The creation timestamp.
                feedback:
                  type: array
                  items:
                    type: string
                  description: List of feedback.
                goal_name:
                  type: string
                  description: Name of the goal.
                goal_plan_assigned:
                  type: string
                  description: Status of the goal plan assignment.
                goal_type:
                  type: string
                  description: Type of the goal.
                  example: "performance_goal"
                measurement:
                  type: string
                  description: Measurement details.
                name:
                  type: string
                  description: Name of the employee assigned to the goal.
                progress:
                  type: string
                  description: Progress status.
      "400":
        description: Invalid request data.
        content:
          application/json:
            schema:
              type: object
              properties:
                error:
                  type: string
                  example: Invalid request data.

  /Goal_Plan/view:
   post:
    operationId: viewGoalPlanDetails
    summary: View detailed goal plan information based on `goal_plan_name` and `review_period`.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              query:
                type: object
                required:
                  - details.goal_plan_name
                properties:
                  details.goal_plan_name:
                    type: string
                    description: The name of the goal plan.
                  details.review_period:
                    type: string
                    description: The review period for the goal plan.
    responses:
      "200":
        description: Goal plan details retrieved successfully.
        content:
          application/json:
            schema:
              type: object
              properties:
                details:
                  type: object
                  properties:
                    goal_plan_name:
                      type: string
                      description: The name of the goal plan.
                    review_period:
                      type: string
                      description: Review period of the goal plan.
                    description:
                      type: string
                      description: Description of the yearly performance goals.
                    performance_document_type:
                      type: string
                      description: Type of the performance document associated with the goal plan.
                    evaluation_type:
                      type: string
                      description: Type of evaluation used for the goal plan (e.g., 360 Review).
                    goal_weights:
                      type: string
                      description: Method of determining goal weights (e.g., Weight by priority).
                    start_date:
                      type: string
                      format: date
                      description: The start date of the goal plan.
                    end_date:
                      type: string
                      format: date
                      description: The end date of the goal plan.
                goals:
                  type: array
                  description: List of goals associated with the plan.
                  items:
                    type: string
                    description: The name of each goal in the plan.
                eligibility_profiles:
                  type: array
                  description: List of eligibility profiles associated with the goal plan.
                  items:
                    type: object
                    properties:
                      name:
                        type: string
                        description: The name of the eligibility profile.
                included_workers:
                  type: array
                  description: List of workers included in the goal plan.
                  items:
                    type: string
                    description: The name of each included worker (empty if none).
                excluded_workers:
                  type: array
                  description: List of workers excluded from the goal plan.
                  items:
                    type: string
                    description: The name of each excluded worker (empty if none).
                updated_by:
                  type: string
                  description: The name of the user who last updated the goal plan.
                updated_at:
                  type: string
                  format: date-time
                  description: The timestamp when the goal plan was last updated.
      "404":
        description: Required details are not found.
        content:
          application/json:
            schema:
              type: object
              properties:
                message:
                  type: string
                  example: "Required details are not found."
 
  /Assigned_goal_plan/view:
   post:
    operationId: viewGoalAssigned
    summary: View goal plan assigned to specific person.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              query:
                type: object
                properties:
                  person_name:
                    type: string
                    description: Name of the person.
                required:
                  - person_name
    responses:
      "200":
        description: Successfully retrieved goal assignment details.
        content:
          application/json:
            schema:
              type: object
              properties:
                person_name:
                  type: string
                  description: Name of the person assigned to the goal plan.
                goal_plan_name:
                  type: string
                  description: The goal plan assigned to the person.
                review_period:
                  type: string
                  description: The review period for the goal plan.
                performance_document_type:
                  type: string
                  description: The type of performance document associated with the goal plan.
                assigned_at:
                  type: string
                  format: date-time
                  description: The timestamp when the goal was assigned.
      "400":
        description: Invalid request data.
        content:
          application/json:
            schema:
              type: object
              properties:
                error:
                  type: string
                  example: "Invalid request data."

  /manager_review/submit_peer_feedback:
   post:
    operationId: submitPeerFeedback
    summary: Submit peer feedback for an employee's performance review.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              performance_document_name:
                type: string
                description: The name of the performance document.
              employee_name:
                type: string
                description: The name of the employee for whom feedback is being submitted.
              peer_name:
                type: string
                description: The name of the peer providing the feedback.
              template_name:
                type: string
                description: The name of the performance evaluation template.
              goals:
                type: object
                description: Goals assigned to the employee and their ratings.
                additionalProperties:
                  type: number
                  description: Rating for a specific goal .
              competencies:
                type: object
                description: Competencies evaluated and their ratings.
                additionalProperties:
                  type: number
                  description: Rating for a specific competency .
                example:
                  "Ability to learn": 3.5
                  "Ability to set direction": 3.5
              feedbacks:
                type: object
                description: The peer feedback provided for the employee.
                additionalProperties:
                  type: string
                  description: Feedback on specific performance areas, can be null if not applicable.
              overall_summary:
                type: object
                description: Overall summary of the employee's performance.
                properties:
                  employee_rating:
                    type: number
                    description: The overall rating given to the employee.
                    example: 3.5
                  employee_comments:
                    type: string
                    description: Comments on the overall performance of the employee.
                    example: "Great overall performance with room for improvement in some areas."
            required:
              - performance_document_name
              - employee_name
              - peer_name
              - template_name
    responses:
      "200":
        description: Peer feedback submitted successfully.
        content:
          application/json:
            schema:
              type: object
              properties:
                message:
                  type: string
                  description: Success message indicating that the peer feedback was submitted.
      "400":
        description: Invalid request data.
        content:
          application/json:
            schema:
              type: object
              properties:
                error:
                  type: string
                  description: Error message indicating invalid input.
      "404":
        description: Performance document, template, or peer not found.
        content:
          application/json:
            schema:
              type: object
              properties:
                message:
                  type: string
                  description: Error message indicating that the specified document, template was not found.
