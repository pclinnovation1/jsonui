openapi: 3.1.0
info:
  title: Learning Journey Management API
  description: API for managing learning journeys.
  version: 1.0.0
servers:
  - url: https://app1.fusionobjects.com
    description: Main API server for learning journey management

paths:
  /add_user_to_journey:
   post:
    operationId: addUserToJourney
    summary: Add users to a journey.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              name:
                type: string
                description: The name of the journey.
              users:
                type: object
                properties:
                  person_name:
                    type: string
                    description: The name of the user.
                  journey_start_date:
                    type: string
                    format: date
                    description: The start date of the journey for the user.
                  journey_due_date:
                    type: string
                    format: date
                    description: The due date of the journey for the user.
                  status:
                    type: string
                    description: The status of the journey for the user.
            required:
              - name
              - users
    responses:
      "200":
        description: User added to journey successfully.
        content:
          application/json:
            schema:
              type: object
              properties:
                message:
                  type: string
                  description: Success message.
      "400":
        description: Invalid request data.
        content:
          application/json:
            schema:
              type: object
              properties:
                error:
                  type: string
                  description: Error message.
      "404":
        description: Journey not found.
        content:
          application/json:
            schema:
              type: object
              properties:
                error:
                  type: string
                  description: Error message indicating the journey was not found.

  /Journey/create:
   post:
    operationId: createJourney
    summary: Creates a new journey.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              items:
                type: array
                items:
                  type: object
                  properties:
                    name:
                      type: string
                      description: Name of the journey.
                    category:
                      type: string
                      description: Category of the journey.
                    description:
                      type: string
                      description: Description of the journey.
                    tasks:
                      type: array
                      items:
                        type: object
                        properties:
                          title:
                            type: string
                            description: Title of the task.
                    users:
                      type: array
                      description: List of users involved in the journey.
                      items:
                        type: object
                        properties:
                          id:
                            type: string
                            description: ID of the user.
                          role:
                            type: string
                            description: Role of the user in the journey.
                    teams:
                      type: array
                      description: List of teams involved in the journey.
                      items:
                        type: object
                        properties:
                          id:
                            type: string
                            description: ID of the team.
                          name:
                            type: string
                            description: Name of the team.
            required:
              - items
    responses:
      "200":
        description: Journey created successfully.
        content:
          application/json:
            schema:
              type: object
              properties:
                message:
                  type: string
                  description: Success message.
      "400":
        description: Invalid request data.
        content:
          application/json:
            schema:
              type: object
              properties:
                error:
                  type: string
                  description: Error message.


  /Journey/view:
   post:
    operationId: viewJourney
    summary: View journey details based on query.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              users:
                type: string
                description: The name of the user to query journeys by.
    responses:
      "200":
        description: Successful response with journey details.
        content:
          application/json:
            schema:
              type: array
              items:
                type: object
                properties:
                  _id:
                    type: string
                    description: The ID of the journey.
                  category:
                    type: string
                    description: The category of the journey.
                  description:
                    type: string
                    description: The description of the journey.
                  name:
                    type: string
                    description: The name of the journey.
                  tasks:
                    type: array
                    items:
                      type: object
                      properties:
                        title:
                          type: string
                          description: The title of the task.
                  teams:
                    type: array
                    items:
                      type: object
                      properties:
                        journey_due_date:
                          type: string
                          format: date
                          description: The due date of the journey for the team.
                        journey_start_date:
                          type: string
                          format: date
                          description: The start date of the journey for the team.
                        status:
                          type: string
                          description: The status of the journey for the team.
                        team_name:
                          type: string
                          description: The name of the team.
                        teammembers:
                          type: array
                          items:
                            type: object
                            properties:
                              person_name:
                                type: string
                                description: The name of the team member.
                              status:
                                type: string
                                description: The status of the team member in the journey.
                              tasks:
                                type: array
                                items:
                                  type: object
                                  properties:
                                    feedback:
                                      type: string
                                      description: The feedback on the task.
                                    status:
                                      type: string
                                      description: The status of the task.
                                    task_due_date:
                                      type: string
                                      format: date
                                      description: The due date of the task.
                                    task_name:
                                      type: string
                                      description: The name of the task.
                                    task_start_date:
                                      type: string
                                      format: date
                                      description: The start date of the task.
                                    time_status:
                                      type: string
                                      description: The time status of the task.
                  users:
                    type: array
                    items:
                      type: object
                      properties:
                        journey_due_date:
                          type: string
                          format: date
                          description: The due date of the journey for the user.
                        journey_start_date:
                          type: string
                          format: date
                          description: The start date of the journey for the user.
                        person_name:
                          type: string
                          description: The name of the user.
                        status:
                          type: string
                          description: The status of the user in the journey.
                        tasks:
                          type: array
                          items:
                            type: object
                            properties:
                              feedback:
                                type: string
                                description: The feedback on the task.
                              status:
                                type: string
                                description: The status of the task.
                              task_due_date:
                                type: string
                                format: date
                                description: The due date of the task.
                              task_name:
                                type: string
                                description: The name of the task.
                              task_start_date:
                                type: string
                                format: date
                                description: The start date of the task.
                              time_status:
                                type: string
                                description: The time status of the task.
      "400":
        description: Invalid request data.
        content:
          application/json:
            schema:
              type: object
              properties:
                error:
                  type: string
                  description: Error message.
 

  /Journey/update:
   post:
    operationId: updateJourneyDetails
    summary: Update details of a specific journey.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              query:
                type: object
                properties:
                  name:
                    type: string
                    description: The name of the journey to be updated.
                  category:
                    type: string
                    description: The category of the journey to be updated.
                required:
                  - name
              update_data:
                type: object
                properties:
                  description:
                    type: string
                    description: The new description for the journey.
                required:
                  - description
            required:
              - query
              - update_data
    responses:
      "200":
        description: Successful response indicating the journey details were updated.
        content:
          application/json:
            schema:
              type: object
              properties:
                message:
                  type: string
                  description: Success message indicating the journey details were updated.
      "400":
        description: Invalid request data.
        content:
          application/json:
            schema:
              type: object
              properties:
                error:
                  type: string
                  description: Error message.

  /Journey/delete:
   post:
    operationId: deleteJourney
    summary: Delete a specific journey.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              query:
                type: object
                properties:
                  name:
                    type: string
                    description: The name of the journey to be deleted.
                required:
                  - name
            required:
              - query
    responses:
      "200":
        description: Successful response indicating the journey was deleted.
        content:
          application/json:
            schema:
              type: object
              properties:
                message:
                  type: string
                  description: Success message indicating the journey was deleted.
      "400":
        description: Invalid request data.
        content:
          application/json:
            schema:
              type: object
              properties:
                error:
                  type: string
                  description: Error message.


  /Task/create:
   post:
    operationId: createTask
    summary: Creates a new task to the collection.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              items:
                type: array
                items:
                  type: object
                  properties:
                    task_name:
                      type: string
                      description: The name of the task.
                    task_type:
                      type: string
                      description: The type of the task.
                    performer:
                      type: string
                      description: The performer of the task.
                    task_subtype:
                      type: string
                      description: The subtype of the task.
                    owner:
                      type: string
                      description: The owner of the task.
                    description:
                      type: string
                      description: The description of the task.
                    instructions:
                      type: string
                      description: The instructions for the task.
                    task_link:
                      type: string
                      description: The link to the task.
                    duration:
                      type: integer
                      description: The duration of the task.
                    time_unit:
                      type: string
                      description: The time unit for the task duration.
                    save_to_my_personal_task_library:
                      type: boolean
                      description: Whether to save the task to the personal task library.
                    make_this_task_mandatory:
                      type: boolean
                      description: Whether to make this task mandatory.
                    enable_attachments:
                      type: boolean
                      description: Whether to enable attachments for the task.
            required:
              - items
    responses:
      "200":
        description: Task created successfully.
        content:
          application/json:
            schema:
              type: object
              properties:
                message:
                  type: string
                  description: Success message.
      "400":
        description: Invalid request data.
        content:
          application/json:
            schema:
              type: object
              properties:
                error:
                  type: string
                  description: Error message.

  /Task/view:
   post:
    operationId: viewTask
    summary: View task details based on query.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              query:
                type: object
                properties:
                  task_name:
                    type: string
                    description: The name of the task to query.
    responses:
      "200":
        description: Successful response with task details.
        content:
          application/json:
            schema:
              type: object
              properties:
                _id:
                  type: string
                  description: The ID of the task.
                task_name:
                  type: string
                  description: The name of the task.
                task_type:
                  type: string
                  description: The type of the task.
                performer:
                  type: string
                  description: The performer of the task.
                task_subtype:
                  type: string
                  description: The subtype of the task.
                owner:
                  type: string
                  description: The owner of the task.
                description:
                  type: string
                  description: The description of the task.
                instructions:
                  type: string
                  description: The instructions for the task.
                task_link:
                  type: string
                  description: The link to the task.
                duration:
                  type: integer
                  description: The duration of the task.
                time_unit:
                  type: string
                  description: The time unit for the task duration.
                save_to_my_personal_task_library:
                  type: boolean
                  description: Whether the task is saved to the personal task library.
                make_this_task_mandatory:
                  type: boolean
                  description: Whether the task is mandatory.
                enable_attachments:
                  type: boolean
                  description: Whether attachments are enabled for the task.
      "400":
        description: Invalid request data.
        content:
          application/json:
            schema:
              type: object
              properties:
                error:
                  type: string
                  description: Error message.

  /Task/update:
   post:
    operationId: updateTask
    summary: Update task details based on query.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              query:
                type: object
                properties:
                  task_name:
                    type: string
                    description: The name of the task to query.
              update_data:
                type: object
                properties:
                  duration:
                    type: integer
                    description: The new duration of the task.
                  task_type:
                    type: string
                    description: The new type of the task.
                  performer:
                    type: string
                    description: The new performer of the task.
                  description:
                    type: string
                    description: The new description of the task.
                 
    responses:
      "200":
        description: Task updated successfully.
        content:
          application/json:
            schema:
              type: object
              properties:
                message:
                  type: string
                  description: Success message.
      "400":
        description: Invalid request data.
        content:
          application/json:
            schema:
              type: object
              properties:
                error:
                  type: string
                  description: Error message.
 
  /Task/delete:
   post:
    operationId: deleteTask
    summary: Delete a task based on query.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              query:
                type: object
                properties:
                  task_name:
                    type: string
                    description: The name of the task to query for deletion.
    responses:
      "200":
        description: Task deleted successfully.
        content:
          application/json:
            schema:
              type: object
              properties:
                message:
                  type: string
                  description: Success message.
      "400":
        description: Invalid request data.
        content:
          application/json:
            schema:
              type: object
              properties:
                error:
                  type: string
                  description: Error message.
      "404":
        description: Task not found.
        content:
          application/json:
            schema:
              type: object
              properties:
                error:
                  type: string
                  description: Error message indicating the task was not found.

  /add_team:
   post:
    operationId: addTeamAndMembers
    summary: Add a team and team members to a journey.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              journey_name:
                type: string
                description: The name of the journey.
              team_name:
                type: string
                description: The name of the team.
              journey_start_date:
                type: string
                format: date
                description: The start date of the journey.
              journey_due_date:
                type: string
                format: date
                description: The due date of the journey.
              teammembers:
                type: array
                items:
                  type: string
                description: List of team members.
            required:
              - journey_name
              - team_name
              - journey_start_date
              - journey_due_date
    responses:
      "200":
        description: Successful response indicating the team and users were added.
        content:
          application/json:
            schema:
              type: object
              properties:
                message:
                  type: string
                  description: Success message indicating the team and users were added.
      "400":
        description: Invalid request data.
        content:
          application/json:
            schema:
              type: object
              properties:
                error:
                  type: string
                  description: Error message.


  /add_user_to_team_in_journey:
   post:
    operationId: addUserToTeam
    summary: Add a user to a specific team in a journey.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              journey_title:
                type: string
                description: The title of the journey.
              team_name:
                type: string
                description: The name of the team.
              member_name:
                type: string
                description: The name of the member to be added.
            required:
              - journey_title
              - team_name
              - member_name
    responses:
      "200":
        description: Successful response indicating the user was added to the team.
        content:
          application/json:
            schema:
              type: array
              items:
                type: object
                properties:
                  message:
                    type: string
                    description: Success message indicating the user was added to the team.
      "400":
        description: Invalid request data.
        content:
          application/json:
            schema:
              type: object
              properties:
                error:
                  type: string
                  description: Error message.
  
  /view_journeys_of_user:
   post:
    operationId: viewUserJourney
    summary: View journey details of a specific user.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              users:
                type: string
                description: The name of the user to query journeys by.
            required:
              - users
    responses:
      "200":
        description: Successful response with journey details.
        content:
          application/json:
            schema:
              type: array
              items:
                type: object
                properties:
                  _id:
                    type: string
                    description: The ID of the journey.
                  category:
                    type: string
                    description: The category of the journey.
                  description:
                    type: string
                    description: The description of the journey.
                  name:
                    type: string
                    description: The name of the journey.
                  tasks.title:
                    type: array
                    items:
                      type: string
                      description: The title of the task.
                  teams.journey_due_date:
                    type: array
                    items:
                      type: string
                      format: date
                      description: The due date of the journey for the team.
                  teams.journey_start_date:
                    type: array
                    items:
                      type: string
                      format: date
                      description: The start date of the journey for the team.
                  teams.status:
                    type: array
                    items:
                      type: string
                      description: The status of the journey for the team.
                  teams.team_name:
                    type: array
                    items:
                      type: string
                      description: The name of the team.
                  teams.teammembers.person_name:
                    type: array
                    items:
                      type: string
                      description: The name of the team member.
                  teams.teammembers.status:
                    type: array
                    items:
                      type: string
                      description: The status of the team member in the journey.
                  teams.teammembers.tasks.feedback:
                    type: array
                    items:
                      type: string
                      description: The feedback on the task.
                  teams.teammembers.tasks.status:
                    type: array
                    items:
                      type: string
                      description: The status of the task.
                  teams.teammembers.tasks.task_due_date:
                    type: array
                    items:
                      type: string
                      format: date
                      description: The due date of the task.
                  teams.teammembers.tasks.task_name:
                    type: array
                    items:
                      type: string
                      description: The name of the task.
                  teams.teammembers.tasks.task_start_date:
                    type: array
                    items:
                      type: string
                      format: date
                      description: The start date of the task.
                  teams.teammembers.tasks.time_status:
                    type: array
                    items:
                      type: string
                      description: The time status of the task.
                  users.journey_due_date:
                    type: array
                    items:
                      type: string
                      format: date
                      description: The due date of the journey for the user.
                  users.journey_start_date:
                    type: array
                    items:
                      type: string
                      format: date
                      description: The start date of the journey for the user.
                  users.person_name:
                    type: array
                    items:
                      type: string
                      description: The name of the user.
                  users.status:
                    type: array
                    items:
                      type: string
                      description: The status of the user in the journey.
                  users.tasks.feedback:
                    type: array
                    items:
                      type: string
                      description: The feedback on the task.
                  users.tasks.status:
                    type: array
                    items:
                      type: string
                      description: The status of the task.
                  users.tasks.task_due_date:
                    type: array
                    items:
                      type: string
                      format: date
                      description: The due date of the task.
                  users.tasks.task_name:
                    type: array
                    items:
                      type: string
                      description: The name of the task.
                  users.tasks.task_start_date:
                    type: array
                    items:
                      type: string
                      format: date
                      description: The start date of the task.
                  users.tasks.time_status:
                    type: array
                    items:
                      type: string
                      description: The time status of the task.
      "400":
        description: Invalid request data.
        content:
          application/json:
            schema:
              type: object
              properties:
                error:
                  type: string
                  description: Error message.
  
  /view_journey_by_name:
   post:
    operationId: viewJourneyByName
    summary: View details of a journey by its name.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              journey_name:
                type: string
                description: The name of the journey to be viewed.
            required:
              - journey_name
    responses:
      "200":
        description: Successful response with the journey details.
        content:
          application/json:
            schema:
              type: object
              properties:
                category:
                  type: string
                  description: The category of the journey.
                description:
                  type: string
                  description: The description of the journey.
                name:
                  type: string
                  description: The name of the journey.
                tasks:
                  type: array
                  items:
                    type: object
                    properties:
                      title:
                        type: string
                        description: The title of the task.
                teams:
                  type: array
                  items:
                    type: object
                    properties:
                      journey_due_date:
                        type: string
                        format: date
                        description: The due date of the journey for the team.
                      journey_start_date:
                        type: string
                        format: date
                        description: The start date of the journey for the team.
                      status:
                        type: string
                        description: The status of the journey for the team.
                      team_name:
                        type: string
                        description: The name of the team.
                      teammembers:
                        type: array
                        items:
                          type: string
                          description: The name of the team member.
                users:
                  type: array
                  items:
                    type: object
                    properties:
                      journey_due_date:
                        type: string
                        format: date
                        description: The due date of the journey for the user.
                      journey_start_date:
                        type: string
                        format: date
                        description: The start date of the journey for the user.
                      person_name:
                        type: string
                        description: The name of the user.
                      status:
                        type: string
                        description: The status of the user in the journey.
                      tasks:
                        type: array
                        items:
                          type: object
                          properties:
                            feedback:
                              type: string
                              description: The feedback on the task.
                            status:
                              type: string
                              description: The status of the task.
                            task_due_date:
                              type: string
                              format: date
                              description: The due date of the task.
                            task_name:
                              type: string
                              description: The name of the task.
                            task_start_date:
                              type: string
                              format: date
                              description: The start date of the task.
                            time_status:
                              type: string
                              description: The time status of the task.
      "400":
        description: Invalid request data.
        content:
          application/json:
            schema:
              type: object
              properties:
                error:
                  type: string
                  description: Error message.

  /track_journey_progress:
   post:
    operationId: trackJourneyProgress
    summary: Track journey Progress of a specific user.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              person_name:
                type: string
                description: The name of the user to query journeys by.
            required:
              - person_name
    responses:
      "200":
        description: Successful response with journey details.
        content:
          application/json:
            schema:
              type: array
              items:
                type: object
                properties:
                  completed_tasks:
                    type: integer
                    description: The number of tasks completed by the user.
                  journey:
                    type: string
                    description: The name of the journey.
                  progress:
                    type: number
                    format: float
                    description: The progress of the journey as a percentage.
                  total_tasks:
                    type: integer
                    description: The total number of tasks in the journey.
      "400":
        description: Invalid request data.
        content:
          application/json:
            schema:
              type: object
              properties:
                error:
                  type: string
                  description: Error message.

  
  /submit_feedback:
   post:
    operationId: submitFeedback
    summary: Submit feedback for a specific task in a journey for a user.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              person_name:
                type: string
                description: The name of the user.
              journey_title:
                type: string
                description: The title of the journey.
              task_name:
                type: string
                description: The name of the task for which feedback is being submitted.
              feedback:
                type: string
                description: The feedback for the task.
            required:
              - person_name
              - journey_title
              - task_name
              - feedback
    responses:
      "200":
        description: Successful response indicating feedback submission.
        content:
          application/json:
            schema:
              type: object
              properties:
                message:
                  type: string
                  description: Success message indicating feedback submission.
      "400":
        description: Invalid request data.
        content:
          application/json:
            schema:
              type: object
              properties:
                error:
                  type: string
                  description: Error message.

  /view_team_journeys:
   post:
    operationId: viewTeamJourneys
    summary: View journey details of a specific team.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              team_name:
                type: string
                description: The name of the team to query journeys by.
            required:
              - team_name
    responses:
      "200":
        description: Successful response with journey details.
        content:
          application/json:
            schema:
              type: array
              items:
                type: object
                properties:
                  _id:
                    type: string
                    description: The ID of the journey.
                  category:
                    type: string
                    description: The category of the journey.
                  description:
                    type: string
                    description: The description of the journey.
                  name:
                    type: string
                    description: The name of the journey.
                  tasks:
                    type: array
                    items:
                      type: object
                      properties:
                        title:
                          type: string
                          description: The title of the task.
                  teams:
                    type: array
                    items:
                      type: object
                      properties:
                        journey_due_date:
                          type: string
                          format: date
                          description: The due date of the journey for the team.
                        journey_start_date:
                          type: string
                          format: date
                          description: The start date of the journey for the team.
                        status:
                          type: string
                          description: The status of the journey for the team.
                        team_name:
                          type: string
                          description: The name of the team.
                        teammembers:
                          type: array
                          items:
                            type: object
                            properties:
                              person_name:
                                type: string
                                description: The name of the team member.
                              status:
                                type: string
                                description: The status of the team member in the journey.
                              tasks:
                                type: array
                                items:
                                  type: object
                                  properties:
                                    feedback:
                                      type: string
                                      description: The feedback on the task.
                                    status:
                                      type: string
                                      description: The status of the task.
                                    task_due_date:
                                      type: string
                                      format: date
                                      description: The due date of the task.
                                    task_name:
                                      type: string
                                      description: The name of the task.
                                    task_start_date:
                                      type: string
                                      format: date
                                      description: The start date of the task.
                                    time_status:
                                      type: string
                                      description: The time status of the task.
      "400":
        description: Invalid request data.
        content:
          application/json:
            schema:
              type: object
              properties:
                error:
                  type: string
                  description: Error message.

  
  /track_team_member_progress:
   post:
    operationId: trackTeamMemberProgress
    summary: Track journey progress of a specific team member.
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              team_name:
                type: string
                description: The name of the team.
              member_name:
                type: string
                description: The name of the team member.
            required:
              - team_name
              - member_name
    responses:
      "200":
        description: Successful response with journey details of the team member.
        content:
          application/json:
            schema:
              type: array
              items:
                type: object
                properties:
                  completed_tasks:
                    type: integer
                    description: The number of tasks completed by the team member.
                  journey:
                    type: string
                    description: The name of the journey.
                  progress:
                    type: number
                    format: float
                    description: The progress of the journey as a percentage.
                  team_member:
                    type: string
                    description: The name of the team member.
                  total_tasks:
                    type: integer
                    description: The total number of tasks in the journey.
      "400":
        description: Invalid request data.
        content:
          application/json:
            schema:
              type: object
              properties:
                error:
                  type: string
                  description: Error message.
